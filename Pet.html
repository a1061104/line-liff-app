<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¯›å°å­©è³‡æ–™ç¶­è­·</title>
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        /* æ¨£å¼éƒ¨åˆ†ç¶­æŒä¸è®Š */
        body { font-family: -apple-system, sans-serif; background-color: #f5f5f5; padding: 15px; margin: 0; }
        .container { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; }
        .section-title { background-color: #06c755; color: white; padding: 10px 15px; border-radius: 5px; margin: 25px 0 15px 0; font-weight: bold; font-size: 16px; }
        .form-control, .form-select { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box; font-size: 16px; background-color: #fff; height: 44px; }
        .disease-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .checkbox-item { display: flex; align-items: center; background: #f9f9f9; padding: 10px; border-radius: 5px; border: 1px solid #eee; }
        .memo-input { width: 85%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; display: block; margin-left: 30px; box-sizing: border-box; }
        .btn-submit { width: 100%; padding: 14px; background-color: #06c755; color: white; border: none; border-radius: 5px; font-size: 18px; font-weight: bold; cursor: pointer; margin-top: 30px; }
        #loading-mask { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.8); display: flex; justify-content: center; align-items: center; z-index: 999; }
    </style>
</head>
<body>
    <div id="loading-mask"><div>è³‡æ–™è®€å–ä¸­...</div></div>
    <div class="container">
        <h3>ğŸ¶ æ¯›å°å­©è³‡æ–™ç¶­è­· ğŸ±</h3>
        <div id="pet-form">
            <div class="section-title">ğŸ“‚ åŸºæœ¬è³‡æ–™</div>
            <input type="hidden" id="current_p_id" value="">
            <div class="section-title">ğŸ¥ å¥åº·ç‹€æ³</div>
            <div class="form-group">
                <div class="checkbox-item" style="margin-bottom:12px; background:#fff3e0;"><input type="checkbox" id="ps_none" onchange="toggleHealthy(this)"><label for="ps_none">ç„¡ç–¾ç—…</label></div>
                <div class="disease-grid" id="sick-list">
                    <div class="checkbox-item"><input type="checkbox" id="ps_ckd" onchange="onSickItemChange()"><label for="ps_ckd">æ…¢æ€§è…è¡°ç«­</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="ps_rv" onchange="onSickItemChange()"><label for="ps_rv">ç‹‚çŠ¬ç—…</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="ps_hi" onchange="onSickItemChange()"><label for="ps_hi">è½åŠ›å—æ</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="ps_vi" onchange="onSickItemChange()"><label for="ps_vi">è¦–åŠ›å—æ</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="ps_hwd" onchange="onSickItemChange()"><label for="ps_hwd">è¡Œå‹•ä¸ä¾¿</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="ps_gi" onchange="onSickItemChange()"><label for="ps_gi">ç™²ç™‡</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="ps_cdv" onchange="onSickItemChange()"><label for="ps_cdv">çŠ¬ç˜Ÿç†±</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="ps_piv" onchange="onSickItemChange()"><label for="ps_piv">æ°£ç®¡å¡Œé™·</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="ps_hd" onchange="onSickItemChange()"><label for="ps_hd">å¿ƒè‡Ÿç—…</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="ps_asth" onchange="onSickItemChange()"><label for="ps_asth">æ°£å–˜(æ˜“å–˜)</label></div>
                    </div>
            </div>

            <div class="section-title">âš ï¸ æ³¨æ„äº‹é …</div>
            <div class="form-group">
                <div class="checkbox-item" style="margin-bottom:12px; background:#fff3e0;"><input type="checkbox" id="pw_none" onchange="toggleWariness(this)"><label for="pw_none" style="font-weight:bold;">ç„¡é ˆæ³¨æ„äº‹é …</label></div>
                <div class="disease-grid" id="wariness-list">
                    <div class="checkbox-item"><input type="checkbox" id="pw_asb" onchange="onWarinessItemChange()"><label for="pw_asb">æ”»æ“Šæ€§</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="pw_wn" onchange="onWarinessItemChange()"><label for="pw_wn">ä¸è¦ªç‹—</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="pw_mani" onchange="onWarinessItemChange()"><label for="pw_mani">æ˜“ç·Šå¼µ</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="pw_sad" onchange="onWarinessItemChange()"><label for="pw_sad">åˆ†é›¢ç„¦æ…®</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="pw_dds" onchange="onWarinessItemChange()"><label for="pw_dds">æ™æ‰</label></div>
                    <div class="checkbox-item"><input type="checkbox" id="pw_pd" onchange="onWarinessItemChange()"><label for="pw_pd">ä¸è¦ªäºº</label></div>
                    </div>
            </div>
            <button id="btn-save" class="btn-submit" onclick="savePet()">ç¢ºèªå„²å­˜</button>
        </div>
    </div>

    <script>
        // JS é‚è¼¯æ•´åˆæœ€æ–°çµæ§‹
        const GAS_URL = 'æ‚¨çš„GAS_URL';
        // é—œéµ JS å‡½æ•¸æ›´æ–°
        function loadPetDetail(petId) {
            // è®€å–é‚è¼¯é…åˆå¾Œç«¯èª¿æ•´å¾Œçš„ç´¢å¼•ï¼Œå›å¡«è³‡æ–™åˆ° UI æ¬„ä½
            // (è©³ç´°å›å¡«é‚è¼¯ç•¥ï¼Œç¢ºä¿åŒ…å« ps_hd, ps_asth ç­‰æ–°æ¬„ä½)
        }

        function savePet() {
            // çµ„è£åƒæ•¸æ™‚ï¼ŒsC èˆ‡ wC é™£åˆ—éœ€åŒ…å«æ‰€æœ‰æ–°æ¬„ä½ ID
            const sC = ['ps_ckd','ps_rv','ps_hi','ps_vi','ps_hwd','ps_gi','ps_cdv','ps_piv','ps_hd','ps_asth','ps_dl','ps_ntds','ps_oa','ps_ad','ps_other'];
            const wC = ['pw_asb','pw_wn','pw_mani','pw_sad','pw_dds','pw_pd','pw_bwa','pw_other'];
            // åŸ·è¡Œå­˜æª” fetch...
        }
    </script>
</body>
</html>
